(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{14:function(e,t,a){},19:function(e,t,a){},26:function(e,t,a){},33:function(e,t,a){e.exports=a.p+"static/media/avatar.34601718.svg"},36:function(e,t,a){e.exports=a(48)},45:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),l=a.n(r),i=a(10),o=a(6),m=a(28),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_SUCCESSFUL":return t.productData;case"FETCH_PRODUCTS_FAILED":default:return e}},s=a(23),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return[].concat(Object(s.a)(e),[t.commentData]);case"INITILIZE_FROM_LOCAL_STORAGE":return Object(s.a)(t.commentsInLocalStorage);default:return e}},p=Object(i.c)({products:u,comments:d}),E=(a(45),a(12)),f=a(9),h=a(29),v=a(30),g=a(34),b=a(31),O=a(35),N=a(17),j=a.n(N),C=function(e){return{type:"FETCH_PRODUCTS_SUCCESSFUL",productData:e}},y=function(e){return{type:"FETCH_PRODUCTS_FAILED",error:e}};function S(){return function(e){var t,a;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.a.awrap(fetch("https://private-5815fe-recommendationsknip.apiary-mock.com/products"));case 3:return t=n.sent,n.next=6,j.a.awrap(t.json());case 6:a=n.sent,e(C(a)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),e(y(n.t0));case 13:case"end":return n.stop()}}),null,null,[[0,10]])}}a(14);var D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){a.props.fetchDataAsync()},a.state={currency:{euro:"\u20ac",swissFranc:"CHF"}},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.products;return c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"container-title"},"Product List"),t.map((function(t,a){return c.a.createElement(E.b,{to:"/product/"+t.id,key:a},c.a.createElement("div",{className:"product-item"},c.a.createElement("div",{className:"product-image-thumb"},c.a.createElement("img",{src:t.images[0].thumb,alt:t.title})),c.a.createElement("div",{className:"product-item-title"},t.title),c.a.createElement("div",{className:"product-item-price"},e.state.currency.euro," ",t.price)))})))}}]),t}(c.a.Component),x={fetchDataAsync:S},I=Object(o.b)((function(e){return{products:e.products}}),x)(D),_=a(11),k=(a(19),a(33)),T=a.n(k),w=(a(26),function(e){var t=e.comment,a=e.index;return c.a.createElement("div",{className:"comment-box",key:a},c.a.createElement("div",{className:"comment-author-section"},c.a.createElement("span",{className:"avatar-placeholder"},c.a.createElement("img",{src:T.a,alt:"Profile icon"})),c.a.createElement("div",{className:"comment-author"},t.author)),c.a.createElement("p",null,t.text))}),L=function(e){var t=e.id,a=Object(n.useState)(""),r=Object(_.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(""),u=Object(_.a)(m,2),s=u[0],d=u[1],p=Object(n.useState)({id:t,author:s,text:l}),E=Object(_.a)(p,2),f=E[0],h=E[1],v=Object(o.c)(),g=Object(o.d)((function(e){return e.comments})),b=Object(o.d)((function(e){return e.comments.filter((function(e){return e.id===t}))}));return Object(n.useEffect)((function(){h({id:t,author:s,text:l}),h({id:t,author:s,text:l})}),[t,s,l]),Object(n.useEffect)((function(){l.length&&s.length&&window.localStorage.setItem("allComments",JSON.stringify(g))}),[l,s,g]),Object(n.useEffect)((function(){if(window.localStorage.getItem("allComments")){var e=JSON.parse(window.localStorage.getItem("allComments"));v({type:"INITILIZE_FROM_LOCAL_STORAGE",commentsInLocalStorage:e})}}),[]),c.a.createElement("div",{className:"container comment"},c.a.createElement("div",{className:"product-heading"},c.a.createElement("div",{className:"comment-heading"},"Comments")),b.map((function(e,t){return c.a.createElement(w,{comment:e,index:t,key:t})})),c.a.createElement("hr",null),c.a.createElement("label",null,"Name"),c.a.createElement("input",{className:"comment-input author",value:s,type:"text",onChange:function(e){d(e.target.value)},placeholder:"Name"}),c.a.createElement("label",null,"Leave a comment"),c.a.createElement("input",{className:"comment-input text",value:l,type:"text",onChange:function(e){i(e.target.value)},placeholder:"Thoughts on this gadget?"}),c.a.createElement("button",{className:"send-comment",onClick:function(){l.length&&s.length&&v({type:"ADD_COMMENT",commentData:f})}},"Shoot it!"))},F=function(){var e=Object(f.f)(),t=Object(o.c)(),a=Object(n.useState)(""),r=Object(_.a)(a,2),l=r[0],i=r[1],m=Object(f.g)().id;m=Number(m);var u=Object(o.d)((function(e){return e.products.filter((function(e){return e.id===m}))})),s=Object(_.a)(u,1)[0];if(!s){var d=t(S());try{s=d.filter((function(e){return e.id===m}))}catch(p){}}return Object(n.useEffect)((function(){s&&i(s.images[0].original)}),[s]),s?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"heading"},c.a.createElement("div",{className:"go-back"},c.a.createElement("button",{onClick:function(){return e.goBack()},type:"button"},"\u27f5")),c.a.createElement("div",{className:"product-heading"},s.title),c.a.createElement("div",{className:"price"},"\u20ac"," ",s.price)),c.a.createElement("div",{className:"image-displayed"},c.a.createElement("img",{src:l,alt:"".concat(s.title)})),c.a.createElement("div",{className:"gallery"},s.images.map((function(e,t){return c.a.createElement("img",{key:t,src:e.thumb,className:l===e.original?"selected-image":null,onClick:function(){return i(e.original)},alt:"".concat(s.title," - ").concat(t)})}))),c.a.createElement("div",{className:"description"},c.a.createElement("h3",null,"Description"),c.a.createElement("p",null,s.description)),c.a.createElement("div",{className:"specification"},c.a.createElement("h3",null,"Specification"),c.a.createElement("p",null,s.specification))),c.a.createElement(L,{id:m})):c.a.createElement("div",{className:"container"})};var A=function(){return c.a.createElement(E.a,null,c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/product/:id",children:c.a.createElement(F,null)}),c.a.createElement(f.a,{path:"/"},c.a.createElement(I,null))))},R=Object(i.d)(p,Object(i.a)(m.a));l.a.render(c.a.createElement(o.a,{store:R},c.a.createElement(A,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.2ad66eb9.chunk.js.map
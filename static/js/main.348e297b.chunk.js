(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{14:function(e,t,a){},19:function(e,t,a){},26:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/avatar.34601718.svg"},31:function(e,t,a){e.exports=a(43)},40:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),l=a.n(r),i=a(10),o=a(5),m=a(28),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS_SUCCESSFUL":return t.productData;case"FETCH_PRODUCTS_FAILED":default:return e}},s=a(23),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return[].concat(Object(s.a)(e),[t.commentData]);case"INITILIZE_FROM_LOCAL_STORAGE":return Object(s.a)(t.commentsInLocalStorage);default:return e}},E=Object(i.c)({products:u,comments:d}),p=(a(40),a(12)),f=a(9),g=a(17),b=a.n(g),h=function(e){return{type:"FETCH_PRODUCTS_SUCCESSFUL",productData:e}},v=function(e){return{type:"FETCH_PRODUCTS_FAILED",error:e}};function O(){return function(e){var t,a;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.awrap(fetch("https://private-5815fe-recommendationsknip.apiary-mock.com/products"));case 3:return t=n.sent,n.next=6,b.a.awrap(t.json());case 6:a=n.sent,e(h(a)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),e(v(n.t0));case 13:case"end":return n.stop()}}),null,null,[[0,10]])}}a(14);var N=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.products})),a="\u20ac";return Object(n.useEffect)((function(){e(O())}),[e]),c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"container-title"},"Product List"),t.map((function(e,t){return c.a.createElement(p.b,{to:"/product/"+e.id,key:t},c.a.createElement("div",{className:"product-item"},c.a.createElement("div",{className:"product-image-thumb"},c.a.createElement("img",{src:e.images[0].thumb,alt:e.title})),c.a.createElement("div",{className:"product-item-title"},e.title),c.a.createElement("div",{className:"product-item-price"},a," ",e.price)))})))},j=a(11),C=(a(19),a(30)),S=a.n(C),y=(a(26),function(e){var t=e.comment,a=e.index;return c.a.createElement("div",{className:"comment-box",key:a},c.a.createElement("div",{className:"comment-author-section"},c.a.createElement("span",{className:"avatar-placeholder"},c.a.createElement("img",{src:S.a,alt:"Profile icon"})),c.a.createElement("div",{className:"comment-author"},t.author)),c.a.createElement("p",null,t.text))}),x=function(e){var t=e.id,a=Object(n.useState)(""),r=Object(j.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(""),u=Object(j.a)(m,2),s=u[0],d=u[1],E=Object(n.useState)({id:t,author:s,text:l}),p=Object(j.a)(E,2),f=p[0],g=p[1],b=Object(o.b)(),h=Object(o.c)((function(e){return e.comments})),v=Object(o.c)((function(e){return e.comments.filter((function(e){return e.id===t}))}));return Object(n.useEffect)((function(){g({id:t,author:s,text:l}),g({id:t,author:s,text:l})}),[t,s,l]),Object(n.useEffect)((function(){l.length&&s.length&&window.localStorage.setItem("allComments",JSON.stringify(h))}),[l,s,h]),Object(n.useEffect)((function(){if(window.localStorage.getItem("allComments")){var e=JSON.parse(window.localStorage.getItem("allComments"));b({type:"INITILIZE_FROM_LOCAL_STORAGE",commentsInLocalStorage:e})}}),[b]),c.a.createElement("div",{className:"container comment"},c.a.createElement("div",{className:"product-heading"},c.a.createElement("div",{className:"comment-heading"},"Comments")),v.map((function(e,t){return c.a.createElement(y,{comment:e,index:t,key:t})})),c.a.createElement("hr",null),c.a.createElement("label",null,"Name"),c.a.createElement("input",{className:"comment-input author",value:s,type:"text",onChange:function(e){d(e.target.value)},placeholder:"Name"}),c.a.createElement("label",null,"Leave a comment"),c.a.createElement("input",{className:"comment-input text",value:l,type:"text",onChange:function(e){i(e.target.value)},placeholder:"Thoughts on this gadget?"}),c.a.createElement("button",{className:"send-comment",onClick:function(){l.length&&s.length&&b({type:"ADD_COMMENT",commentData:f})}},"Shoot it!"))},I=function(){var e=Object(f.f)(),t=Object(o.b)(),a=Object(n.useState)(""),r=Object(j.a)(a,2),l=r[0],i=r[1],m=Object(f.g)().id;m=Number(m);var u=Object(o.c)((function(e){return e.products.filter((function(e){return e.id===m}))})),s=Object(j.a)(u,1)[0];if(!s){var d=t(O());try{s=d.filter((function(e){return e.id===m}))}catch(E){}}return Object(n.useEffect)((function(){s&&i(s.images[0].original)}),[s]),s?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"heading"},c.a.createElement("div",{className:"go-back"},c.a.createElement("button",{onClick:function(){return e.goBack()},type:"button"},"\u27f5")),c.a.createElement("div",{className:"product-heading"},s.title),c.a.createElement("div",{className:"price"},"\u20ac"," ",s.price)),c.a.createElement("div",{className:"image-displayed"},c.a.createElement("img",{src:l,alt:"".concat(s.title)})),c.a.createElement("div",{className:"gallery"},s.images.map((function(e,t){return c.a.createElement("img",{key:t,src:e.thumb,className:l===e.original?"selected-image":null,onClick:function(){return i(e.original)},alt:"".concat(s.title," - ").concat(t)})}))),c.a.createElement("div",{className:"info-box bg-description"},c.a.createElement("h3",{className:"light-blue"},"Description"),c.a.createElement("p",null,s.description)),c.a.createElement("div",{className:"info-box bg-specification"},c.a.createElement("h3",{className:"pink"},"Specification"),c.a.createElement("p",null,s.specification))),c.a.createElement(x,{id:m})):c.a.createElement("div",{className:"container"})};var _=function(){return c.a.createElement(p.a,null,c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/product/:id",children:c.a.createElement(I,null)}),c.a.createElement(f.a,{path:"/"},c.a.createElement(N,null))))},k=Object(i.d)(E,Object(i.a)(m.a));l.a.render(c.a.createElement(o.a,{store:k},c.a.createElement(_,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.348e297b.chunk.js.map
{"version":3,"sources":["static/images/avatar.svg","reducers/products.js","reducers/comments.js","reducers/index.js","actions/fetchProducts.js","components/ProductList.js","components/Comment.js","components/CommentSection.js","components/ProductItem.js","App.js","index.js"],"names":["module","exports","products","state","action","type","productData","comments","commentData","commentsInLocalStorage","combinedReducer","combineReducers","fetchProductsSuccess","fetchProductsFail","error","fetchDataAsync","dispatch","a","async","fetch","response","json","ProductList","useDispatch","useSelector","currency","useEffect","className","map","product","index","to","id","key","src","images","thumb","alt","title","price","Comment","comment","avatar","author","text","CommentSection","useState","commentText","setCommentText","commentAuthor","setCommentAuthor","setCommentData","allComments","filter","length","window","localStorage","setItem","JSON","stringify","getItem","parse","value","onChange","event","target","placeholder","onClick","ProductItem","history","useHistory","selectedImageURL","setSelectedImageURL","useParams","Number","eachProduct","original","goBack","image","description","specification","App","path","children","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.348e297b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.34601718.svg\";","const products = (state = [], action) => {\n  switch (action.type) {\n    case 'FETCH_PRODUCTS_SUCCESSFUL':\n      return action.productData\n    case 'FETCH_PRODUCTS_FAILED':\n      return state\n    default:\n      return state\n  }\n}\n\nexport default products\n","const comments = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD_COMMENT':\n      return [\n        ...state,\n        action.commentData\n      ]\n    case 'INITILIZE_FROM_LOCAL_STORAGE':\n      return [\n        ...action.commentsInLocalStorage\n      ]\n    default:\n      return state\n  }\n}\n\nexport default comments\n","import { combineReducers } from 'redux'\nimport products from './products'\nimport comments from './comments'\n\nconst combinedReducer = combineReducers({ products, comments })\n\nexport default combinedReducer\n","/* eslint-disable no-undef */\nexport const fetchProductsSuccess = (productData) => ({\n  type: 'FETCH_PRODUCTS_SUCCESSFUL',\n  productData\n})\n\nexport const fetchProductsFail = (error) => ({\n  type: 'FETCH_PRODUCTS_FAILED',\n  error\n})\n\nexport function fetchDataAsync () {\n  return async (dispatch) => {\n    try {\n      const response = await fetch('https://private-5815fe-recommendationsknip.apiary-mock.com/products')\n      const productData = await response.json()\n      dispatch(fetchProductsSuccess(productData))\n    } catch (error) {\n      dispatch(fetchProductsFail(error))\n    }\n  }\n}\n","/* eslint-disable react/prop-types */\nimport React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchDataAsync } from '../actions/fetchProducts'\nimport './ProductList.css'\n\nconst ProductList = () => {\n  const dispatch = useDispatch()\n  const products = useSelector((state) => state.products)\n\n  const productURLString = '/product/'\n  const currency = {\n    euro: '€',\n    swissFranc: 'CHF'\n  }\n\n  useEffect(() => {\n    dispatch(fetchDataAsync())\n  }, [dispatch])\n\n  return (\n    <div className='container'>\n      <h1 className='container-title'>Product List</h1>\n      {products.map((product, index) => {\n        return (\n          <Link to={productURLString + product.id} key={index}>\n            <div className='product-item'>\n              <div className='product-image-thumb'><img src={product.images[0].thumb} alt={product.title} /></div>\n              <div className='product-item-title'>{product.title}</div>\n              <div className='product-item-price'>{currency.euro} {product.price}</div>\n            </div>\n          </Link>)\n      })}\n    </div>\n  )\n}\n\nexport default ProductList\n","import React from 'react'\nimport { PropTypes } from 'prop-types'\n\nimport avatar from '../static/images/avatar.svg'\nimport './CommentSection.css'\nimport './ProductList.css'\nimport './ProductItem.css'\n\nconst Comment = ({ comment, index }) => {\n  return (\n    <div className='comment-box' key={index}>\n      <div className='comment-author-section'>\n        <span className='avatar-placeholder'><img src={avatar} alt='Profile icon' /></span>\n        <div className='comment-author'>{comment.author}</div>\n      </div>\n      <p>{comment.text}</p>\n    </div>\n  )\n}\n\nComment.propTypes = {\n  comment: PropTypes.object.isRequired,\n  index: PropTypes.number.isRequired\n}\n\nexport default Comment\n","import React, { useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { PropTypes } from 'prop-types'\n\nimport Comment from './Comment'\nimport './CommentSection.css'\nimport './ProductList.css'\nimport './ProductItem.css'\n\nconst CommentSection = ({ id }) => {\n  const [commentText, setCommentText] = useState('')\n  const [commentAuthor, setCommentAuthor] = useState('')\n  const [commentData, setCommentData] = useState({ id: id, author: commentAuthor, text: commentText })\n\n  const dispatch = useDispatch()\n  const allComments = useSelector((state) => state.comments)\n\n  const comments = useSelector((state) => state.comments.filter((comment) => comment.id === id))\n\n  const onAuthorChange = (event) => {\n    setCommentAuthor(event.target.value)\n  }\n\n  const onTextChange = (event) => {\n    setCommentText(event.target.value)\n  }\n\n  const sendComment = () => {\n    // Make sure the user has typed something\n    if (commentText.length && commentAuthor.length) {\n      dispatch({ type: 'ADD_COMMENT', commentData })\n    }\n  }\n\n  useEffect(() => {\n    setCommentData({ id: id, author: commentAuthor, text: commentText })\n    setCommentData({ id: id, author: commentAuthor, text: commentText })\n  }, [id, commentAuthor, commentText])\n\n  useEffect(() => {\n    if (commentText.length && commentAuthor.length) {\n      // Persist data in localStorage\n      window.localStorage.setItem('allComments', JSON.stringify(allComments))\n    }\n  }, [commentText, commentAuthor, allComments])\n\n  useEffect(() => {\n    // Retrieve data from localStorage and dispatch it to Redux\n    // Run only once, when mounting\n    if (window.localStorage.getItem('allComments')) {\n      const commentsInLocalStorage = JSON.parse(window.localStorage.getItem('allComments'))\n      dispatch({ type: 'INITILIZE_FROM_LOCAL_STORAGE', commentsInLocalStorage })\n    }\n  }, [dispatch])\n\n  return (\n    <div className='container comment'>\n      <div className='product-heading'>\n        <div className='comment-heading'>Comments</div>\n      </div>\n      {comments.map((comment, index) =>\n        <Comment comment={comment} index={index} key={index} />\n      )}\n      <hr />\n      <label>Name</label>\n      <input className='comment-input author' value={commentAuthor} type='text' onChange={onAuthorChange} placeholder='Name' />\n      <label>Leave a comment</label>\n      <input className='comment-input text' value={commentText} type='text' onChange={onTextChange} placeholder='Thoughts on this gadget?' />\n      <button className='send-comment' onClick={sendComment}>Shoot it!</button>\n    </div>\n  )\n}\n\nCommentSection.propTypes = {\n  id: PropTypes.number.isRequired\n}\n\nexport default CommentSection\n","import React, { useEffect, useState } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { fetchDataAsync } from '../actions/fetchProducts'\n\nimport './ProductList.css'\nimport './ProductItem.css'\nimport CommentSection from './CommentSection'\n\nconst ProductItem = () => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n\n  const [selectedImageURL, setSelectedImageURL] = useState('')\n  // Get product ID param passed in the URL, and convert from string to number\n  let { id } = useParams()\n  id = Number(id)\n\n  // Get the first product of the array that matches the URL paramater\n  let [product] = useSelector((state) => state.products.filter((eachProduct) => eachProduct.id === id))\n\n  if (!product) {\n    const products = dispatch(fetchDataAsync())\n\n    try {\n      product = products.filter((eachProduct) => eachProduct.id === id)\n    } catch (error) {\n    }\n  }\n\n  useEffect(() => {\n    if (product) {\n      setSelectedImageURL(product.images[0].original)\n    }\n  }, [product])\n\n  if (product) {\n    return (\n      <>\n        <div className='container'>\n          <div className='heading'>\n            <div className='go-back'><button onClick={() => history.goBack()} type='button'>⟵</button></div>\n            <div className='product-heading'>{product.title}</div>\n            <div className='price'>\n              €\n              {' '}\n              {product.price}\n            </div>\n          </div>\n          <div className='image-displayed'>\n            <img src={selectedImageURL} alt={`${product.title}`} />\n          </div>\n          <div className='gallery'>\n            {product.images.map((image, index) => (\n              <img\n                key={index}\n                src={image.thumb}\n                className={selectedImageURL === image.original ? 'selected-image' : null}\n                onClick={() => setSelectedImageURL(image.original)}\n                alt={`${product.title} - ${index}`}\n              />\n            ))}\n          </div>\n          <div className='info-box bg-description'>\n            <h3 className='light-blue'>Description</h3>\n            <p>\n              {product.description}\n            </p>\n          </div>\n          <div className='info-box bg-specification'>\n            <h3 className='pink'>Specification</h3>\n            <p>\n              {product.specification}\n            </p>\n          </div>\n        </div>\n        <CommentSection id={id} />\n      </>\n    )\n  }\n\n  return (\n    <div className='container' />\n  )\n}\n\nexport default ProductItem\n","import React from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\n\nimport ProductList from './components/ProductList'\nimport ProductItem from './components/ProductItem'\n\nfunction App () {\n  return (\n    <Router>\n      <Switch>\n        <Route path='/product/:id' children={<ProductItem />} />\n        <Route path='/'>\n          <ProductList />\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\nimport combinedReducer from './reducers/index'\n\nimport './index.css'\nimport App from './App'\n\nconst store = createStore(combinedReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}